<!doctype html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>JSON Manager</title>
<link rel="stylesheet" href="./css/jsonEditor.css" />
<link rel="stylesheet" href="./css/extra.css" />
</head>
<body>
<main>
	<!-- Header -->
	<header>
		<h1><a href="./">JSON Manager</a></h1>
	</header>
	<!-- // Header -->

	<!-- JSON editor -->
	<div class="jsonEditor">
		<!-- index -->
		<div class="index"></div>
		<!-- // index -->
<!--
		<nav class="context">
			<ul>
				<li role="Type">
					<div>
						<ul>
							<li role="Object">
								<button type="button">Object</button>
							</li>
							<li role="Array">
								<button type="button">Array</button>
							</li>
							<li role="String">
								<button type="button">String</button>
							</li>
						</ul>
					</div>
					<button type="button">Type</button>
				</li>
				<li role="Insert">
					<div>
						<ul>
							<li role="Object">
								<button type="button">Object</button>
							</li>
							<li role="Array">
								<button type="button">Array</button>
							</li>
							<li role="String">
								<button type="button">String</button>
							</li>
						</ul>
					</div>
					<button type="button">Insert</button>
				</li>
				<li role="Duplicate">
					<button type="button">Duplicate</button>
				</li>
				<li role="Remove">
					<button type="button">Remove</button>
				</li>
			</ul>
		</nav>
-->
	</div>
	<!-- // JSON editor index -->

	<!-- JSON Result -->
	<div id="jsonResult">
		<nav class="btngroup">
			<button type="button" role="btn_toJSON">Export JSON</button>
		</nav>
		<pre></pre>
	</div>
	<!-- // JSON Result -->
</main>

<script src="./js/jquery-2.1.1.min.js"></script>
<script src="./js/jquery-sortable.js"></script>
<script src="./js/JSONEditor.class.js"></script>
<script>
jQuery(function($){
	var
		$jsonEditor = $('div.jsonEditor'),
		$index = $jsonEditor.children('div.index'),
		jsonEditor = new JSONEditor($jsonEditor),

		$jsonResult = $('#jsonResult')
		$root = $index.find('li[loc=root]')
	;

	// import json
	try {
		var json = JSON.parse('{"사과":"빨간색", "바나나":"노란색", "키위":"녹색", "포도":"보라색"}');
	}
	catch(e) {
		var json = new Object();
	}
	if (Array.isArray(json))
	{
		jsonEditor.typeItem({
			active : $root,
			type : 'Array'
		});
	}
	//jsonEditor.importJSON(json, $root);

	// Export json
	$jsonResult.find('button[role=btn_toJSON]').on('click', function(){
		$jsonResult.children('pre').text(jsonEditor.exportJSON(5));
	});
});
</script>
</body>
</html>